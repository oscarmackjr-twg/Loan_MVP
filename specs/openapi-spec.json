{"openapi":"3.1.0","info":{"title":"Loan Engine API","description":"API for processing loans for structured finance products","version":"1.0.0"},"paths":{"/api/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"Authenticate user and return access token.","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"tags":["authentication"],"summary":"Get Current User Info","description":"Get current user information.","operationId":"get_current_user_info_api_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/auth/register":{"post":{"tags":["authentication"],"summary":"Register","description":"Register a new user (admin only).","operationId":"register_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/auth/users/{user_id}":{"put":{"tags":["authentication"],"summary":"Update User","description":"Update a user (admin only).","operationId":"update_user_api_auth_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/users":{"get":{"tags":["authentication"],"summary":"List Users","description":"List all users (admin only).","operationId":"list_users_api_auth_users_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/UserRole"},{"type":"null"}],"title":"Role"}},{"name":"sales_team_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sales Team Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response List Users Api Auth Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/config":{"get":{"tags":["api"],"summary":"Get Config","description":"Return app config for the UI (e.g. storage type, S3 bucket when using S3).","operationId":"get_config_api_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/pipeline/run":{"post":{"tags":["api"],"summary":"Create Pipeline Run","description":"Create and execute a new pipeline run.","operationId":"create_pipeline_run_api_pipeline_run_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/runs":{"get":{"tags":["api"],"summary":"List Runs","description":"List pipeline runs with pagination. Filter by run_weekday for day-of-week segregation.","operationId":"list_runs_api_runs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"run_weekday","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":6,"minimum":0},{"type":"null"}],"description":"Filter by day of week (0=Monday .. 6=Sunday)","title":"Run Weekday"},"description":"Filter by day of week (0=Monday .. 6=Sunday)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RunResponse"},"title":"Response List Runs Api Runs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/runs/{run_id}":{"get":{"tags":["api"],"summary":"Get Run","description":"Get a specific pipeline run.","operationId":"get_run_api_runs__run_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/runs/{run_id}/notebook-outputs":{"get":{"tags":["api"],"summary":"List Notebook Outputs","description":"List the 4 notebook-replacement output files for a run.\n\nFiles are stored under the per-run prefix `PipelineRun.output_dir` in the **outputs** storage area\n(local disk in development, S3 in test/production).","operationId":"list_notebook_outputs_api_runs__run_id__notebook_outputs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/runs/{run_id}/notebook-outputs/{output_key}/download":{"get":{"tags":["api"],"summary":"Download Notebook Output","description":"Download one of the 4 notebook-replacement output files for a run.","operationId":"download_notebook_output_api_runs__run_id__notebook_outputs__output_key__download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"output_key","in":"path","required":true,"schema":{"type":"string","title":"Output Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/runs/{run_id}/archive":{"get":{"tags":["api"],"summary":"List Run Archive","description":"List archived input and output files for a run (archive/{run_id}/input and archive/{run_id}/output).","operationId":"list_run_archive_api_runs__run_id__archive_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/runs/{run_id}/archive/download":{"get":{"tags":["api"],"summary":"Download Run Archive File","description":"Download a file from the run archive (input or output).","operationId":"download_run_archive_file_api_runs__run_id__archive_download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"path","in":"query","required":true,"schema":{"type":"string","description":"Path relative to run archive: input/filename or output/filename","title":"Path"},"description":"Path relative to run archive: input/filename or output/filename"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/summary/{run_id}":{"get":{"tags":["api"],"summary":"Get Run Summary","description":"Get summary metrics for a pipeline run.","operationId":"get_run_summary_api_summary__run_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/exceptions":{"get":{"tags":["api"],"summary":"Get Exceptions","description":"Get loan exceptions with filtering (including rejection_criteria for notebook mapping).","operationId":"get_exceptions_api_exceptions_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Run Id"}},{"name":"exception_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exception Type"}},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Severity"}},{"name":"rejection_criteria","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by notebook rejection key (e.g. notebook.purchase_price_mismatch)","title":"Rejection Criteria"},"description":"Filter by notebook rejection key (e.g. notebook.purchase_price_mismatch)"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExceptionResponse"},"title":"Response Get Exceptions Api Exceptions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/exceptions/export":{"get":{"tags":["api"],"summary":"Export Exceptions","description":"Export loan exceptions to CSV or Excel. Uses same filters as GET /api/exceptions.","operationId":"export_exceptions_api_exceptions_export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Export format: csv or xlsx","default":"csv","title":"Format"},"description":"Export format: csv or xlsx"},{"name":"run_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Run Id"}},{"name":"exception_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exception Type"}},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Severity"}},{"name":"rejection_criteria","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Criteria"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50000,"minimum":1,"default":10000,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/loans":{"get":{"tags":["api"],"summary":"Get Loans","description":"Get loan facts for a run. Filter by disposition for to_purchase vs projected vs rejected.","operationId":"get_loans_api_loans_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"query","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"disposition","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by disposition: to_purchase (eligible), projected, rejected","title":"Disposition"},"description":"Filter by disposition: to_purchase (eligible), projected, rejected"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Get Loans Api Loans Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sales-teams":{"get":{"tags":["api"],"summary":"List Sales Teams","description":"List all sales teams (admin only).","operationId":"list_sales_teams_api_sales_teams_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response List Sales Teams Api Sales Teams Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/files/list":{"get":{"tags":["files"],"summary":"List Files","description":"List files in a directory.","operationId":"list_files_api_files_list_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"path","in":"query","required":false,"schema":{"type":"string","description":"Directory path to list","default":"","title":"Path"},"description":"Directory path to list"},{"name":"recursive","in":"query","required":false,"schema":{"type":"boolean","description":"List files recursively","default":false,"title":"Recursive"},"description":"List files recursively"},{"name":"area","in":"query","required":false,"schema":{"type":"string","description":"Storage area: inputs | outputs | output_share","default":"inputs","title":"Area"},"description":"Storage area: inputs | outputs | output_share"},{"name":"storage_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Override storage type (local/s3)","title":"Storage Type"},"description":"Override storage type (local/s3)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/upload":{"post":{"tags":["files"],"summary":"Upload File","description":"Upload a file. When using S3, uploads always go to the inputs area so the pipeline can read them.","operationId":"upload_file_api_files_upload_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"path","in":"query","required":false,"schema":{"type":"string","description":"Destination path (directory or full file path)","default":"","title":"Path"},"description":"Destination path (directory or full file path)"},{"name":"area","in":"query","required":false,"schema":{"type":"string","description":"Storage area: inputs | outputs | output_share","default":"inputs","title":"Area"},"description":"Storage area: inputs | outputs | output_share"},{"name":"storage_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Override storage type (local/s3)","title":"Storage Type"},"description":"Override storage type (local/s3)"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_files_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/download/{file_path}":{"get":{"tags":["files"],"summary":"Download File","description":"Download a file.","operationId":"download_file_api_files_download__file_path__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"file_path","in":"path","required":true,"schema":{"type":"string","title":"File Path"}},{"name":"area","in":"query","required":false,"schema":{"type":"string","description":"Storage area: inputs | outputs | output_share","default":"inputs","title":"Area"},"description":"Storage area: inputs | outputs | output_share"},{"name":"storage_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Override storage type (local/s3)","title":"Storage Type"},"description":"Override storage type (local/s3)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/url/{file_path}":{"get":{"tags":["files"],"summary":"Get File Url","description":"Get a presigned URL for file access (S3) or file path (local).","operationId":"get_file_url_api_files_url__file_path__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"file_path","in":"path","required":true,"schema":{"type":"string","title":"File Path"}},{"name":"expires_in","in":"query","required":false,"schema":{"type":"integer","description":"URL expiration time in seconds","default":3600,"title":"Expires In"},"description":"URL expiration time in seconds"},{"name":"area","in":"query","required":false,"schema":{"type":"string","description":"Storage area: inputs | outputs | output_share","default":"inputs","title":"Area"},"description":"Storage area: inputs | outputs | output_share"},{"name":"storage_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Override storage type (local/s3)","title":"Storage Type"},"description":"Override storage type (local/s3)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/{file_path}":{"delete":{"tags":["files"],"summary":"Delete File","description":"Delete a file.","operationId":"delete_file_api_files__file_path__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"file_path","in":"path","required":true,"schema":{"type":"string","title":"File Path"}},{"name":"area","in":"query","required":false,"schema":{"type":"string","description":"Storage area: inputs | outputs | output_share","default":"inputs","title":"Area"},"description":"Storage area: inputs | outputs | output_share"},{"name":"storage_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Override storage type (local/s3)","title":"Storage Type"},"description":"Override storage type (local/s3)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/mkdir":{"post":{"tags":["files"],"summary":"Create Directory","description":"Create a directory.","operationId":"create_directory_api_files_mkdir_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"path","in":"query","required":true,"schema":{"type":"string","description":"Directory path to create","title":"Path"},"description":"Directory path to create"},{"name":"area","in":"query","required":false,"schema":{"type":"string","description":"Storage area: inputs | outputs | output_share","default":"inputs","title":"Area"},"description":"Storage area: inputs | outputs | output_share"},{"name":"storage_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Override storage type (local/s3)","title":"Storage Type"},"description":"Override storage type (local/s3)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint; serves SPA index when static build present.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint (API only).","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/ready":{"get":{"summary":"Health Ready","description":"Readiness check: API + database connectivity. Use for demo verification.","operationId":"health_ready_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_login_api_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_auth_login_post"},"Body_upload_file_api_files_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_file_api_files_upload_post"},"ExceptionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"seller_loan_number":{"type":"string","title":"Seller Loan Number"},"exception_type":{"type":"string","title":"Exception Type"},"exception_category":{"type":"string","title":"Exception Category"},"severity":{"type":"string","title":"Severity"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"rejection_criteria":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Criteria"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","seller_loan_number","exception_type","exception_category","severity","message","created_at"],"title":"ExceptionResponse","description":"Exception response model."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"RunCreate":{"properties":{"pdate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdate"},"irr_target":{"type":"number","title":"Irr Target","default":8.05},"folder":{"type":"string","title":"Folder","default":"C:/Users/omack/Intrepid/pythonFramework/loan_engine/legacy"}},"type":"object","title":"RunCreate","description":"Pipeline run creation model."},"RunResponse":{"properties":{"id":{"type":"integer","title":"Id"},"run_id":{"type":"string","title":"Run Id"},"status":{"type":"string","title":"Status"},"sales_team_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sales Team Id"},"total_loans":{"type":"integer","title":"Total Loans"},"total_balance":{"type":"number","title":"Total Balance"},"exceptions_count":{"type":"integer","title":"Exceptions Count"},"run_weekday":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Run Weekday"},"run_weekday_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Run Weekday Name"},"pdate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdate"},"last_phase":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Phase"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","run_id","status","sales_team_id","total_loans","total_balance","exceptions_count","started_at","completed_at","created_at"],"title":"RunResponse","description":"Pipeline run response model."},"SummaryResponse":{"properties":{"run_id":{"type":"string","title":"Run Id"},"total_loans":{"type":"integer","title":"Total Loans"},"total_balance":{"type":"number","title":"Total Balance"},"exceptions_count":{"type":"integer","title":"Exceptions Count"},"eligibility_checks":{"type":"object","title":"Eligibility Checks"}},"type":"object","required":["run_id","total_loans","total_balance","exceptions_count","eligibility_checks"],"title":"SummaryResponse","description":"Summary response model."},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"user":{"type":"object","title":"User"}},"type":"object","required":["access_token","token_type","user"],"title":"Token","description":"Token response model."},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"full_name":{"type":"string","title":"Full Name"},"role":{"$ref":"#/components/schemas/UserRole","default":"analyst"},"sales_team_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sales Team Id"}},"type":"object","required":["email","username","password","full_name"],"title":"UserCreate","description":"User creation model."},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"role":{"$ref":"#/components/schemas/UserRole"},"sales_team_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sales Team Id"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","email","username","full_name","role","sales_team_id","is_active"],"title":"UserResponse","description":"User response model."},"UserRole":{"type":"string","enum":["admin","analyst","sales_team"],"title":"UserRole","description":"User roles for authorization."},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"role":{"anyOf":[{"$ref":"#/components/schemas/UserRole"},{"type":"null"}]},"sales_team_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sales Team Id"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"}},"type":"object","title":"UserUpdate","description":"User update model."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/auth/login"}}}}}}